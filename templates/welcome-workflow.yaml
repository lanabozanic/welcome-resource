# List resources needed by workflow.
resources:

# A resource named `welcome` that is a public git repo. All the fields here are required except branch, which defaults to master.
- name: welcome
  type: git
  parameters:
    url: "git@github.com:<your-github-username>/<your-git-repo-name>.git"
    branch: "master"

- name: ztransform
  type: git
  parameters:
    url: "git@github.com:zapatacomputing/tutorial-0-ztransform.git"
    branch: "master"

      # The steps of the workflow
  templates:

  # `salutations` is a template that just contains a list of `steps`, which are other templates
  - name: salutations
    steps:

    # This template runs the `welcome-to-orquestra` template in the `welcome` resource
    - - name: greeting
        template: welcome-to-orquestra
        arguments:
          parameters:
          - resources: [welcome]

    # This template runs the `z-transformation` template in the `ztransform` resource
    - - name: transform-welcome
        template: z-transformation
        arguments:
          parameters:
          - resources: [ztransform]
          artifacts:
          - name: message
            # This template takes in the output artifact from the `welcome` template.
            from: '{{steps.greeting.outputs.artifacts.welcome}}'